<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Profil Utilisateur</title>
<link href="https://fonts.googleapis.com/css2?family=Titan+One&family=Federant&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/navbar.css">
<link rel="stylesheet" href="css/profile.css">
<link rel="stylesheet" href="css/index.css">
</head>

<body>
<header>
<a href="index.html" class="logo" aria-label="Accueil"><img src="https://i.imgur.com/7Ddaoy6.png" alt="Logo FreezyFlix" /></a>

<div class="search-container">
<div class="search-icon-wrapper">
<svg aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon-svg">
<path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg></div>
<input type="text" id="search-input" class="search-box" placeholder="Rechercher des films, des séries..." autocomplete="off" autocorrect="off" spellcheck="false" name="search-field" value="">
</div>

<ul class="federant-regular">
<li><a href="index.html">Accueil</a></li>
<li><a href="aide.html">Aide</a></li><li>
<a href="https://www.paypal.com/donate/?hosted_button_id=9TKRSPG4UTSJ2" class="animated-link no-underline" target="_blank">
<span>F</span><span>a</span><span>i</span><span>r</span><span>e</span> <span>u</span><span>n</span> <span>d</span><span>o</span><span>n</span></a></li></ul>

<div class="login-profile-container">
<span id="userPseudo" class="user-pseudo" style="display:none;"></span><div class="profile-menu" id="profileMenuContainer" style="display:none;"><img id="Avatar" class="avatar">
<div class="dropdown-menu" id="dropdownMenu">
<a href="#" id="menuProfile"><svg class="menu-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" style="vertical-align: middle; margin-right: 8px;"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.51.88 4.93 1.78C15.57 19.36 13.86 20 12 20s-3.57-.64-4.93-1.72zm11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33C4.62 15.49 4 13.82 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.49-1.64 4.83zM12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z"/></svg>Profil</a>
<a href="#" id="menuSettings"><svg class="menu-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" style="vertical-align: middle; margin-right: 8px;"><path d="M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/></svg>Demande de Films</a>
<a href="#" id="menuLogout"><svg class="menu-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" style="vertical-align: middle; margin-right: 8px;"><path d="M16 13v-2H7V8l-5 4 5 4v-3h9zm3-10H5c-1.1 0-2 .9-2 2v6h2V5h14v14H5v-6H3v6c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/></svg>Déconnexion</a>
<button class="login-button" id="loginBtn"><img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" class="google-logo">Connexion</button></div>
</header>

<main>
<section class="profile-container">
<div class="avatar-wrapper">
    <img id="profileAvatar" class="profile-avatar" alt="Avatar">
    <div class="avatar-fondateur" id="avatarAnimation"></div>
</div>
<div class="profile-info">
    <h2 class="profile-pseudo">
        <span id="profilePseudo"></span>
        <span id="profileFirstname"></span>
        <p id="profileDate" class="profile-date"></p>

    </h2>
    <p id="profileDescription" class="profile-description"></p>
    <a class="edit-profile-btn">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.831.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.63.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"></path></svg>Modifier le profil</a>
</div>
</section>

<nav class="profile-actions">
<a href="#" class="profile-link active">Favoris</a>
<a href="#" class="profile-link">Évaluation</a>
</nav>

<hr class="profile-divider">


<div id="favoritesContent" class="grid-wrapper"></div>
<div id="evaluationContent" class="grid-wrapper"></div>


    <div id="editProfilePanel" class="overlay">
        <div class="edit-panel">
            <a href="#" class="close-panel">&times;</a>
            <div class="panel-left">
                            <div class="panel-avatar-wrapper">
                <img id="panelAvatar" alt="Avatar" class="panel-avatar" src="https://lh3.googleusercontent.com/a/ACg8ocK0wLbXePE7U7v2xIUeokWxQv5L_X1h6G2HKBuR2SBt_z5wL7RW=s96-c">
                <div class="panel-avatar-overlay">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                    </svg>
                </div>
            </div>
                <p class="panel-avatar-text">Votre avatar</p>
                <a href="#" id="deleteAccountBtn" class="delete-account-btn">Supprimer le compte</a>
            </div>
            <div class="panel-right">
                <h2>Modifier le profil</h2>
                <form id="editProfileForm">
                    <div class="form-group">
                        <label for="username">Nom d'utilisateur</label>
                        <input type="text" id="username" name="username" maxlength="16">
                        <span id="usernameCounter" class="char-counter">0/16</span>
                    </div>
<div class="form-group">
    <label for="firstname">Prénom</label>
    <input type="text" id="firstname" name="firstname" maxlength="16">
    <span id="firstnameCounter" class="char-counter">0/16</span>
</div>

<div class="form-group">
    <label for="description">Description</label>
    <textarea id="description" name="description" maxlength="200"></textarea>
    <span id="descriptionCounter" class="char-counter">0/200</span>
</div>

                    <div class="form-buttons">
                        <a href="#" class="cancel-btn">Annuler</a>
                        <button type="submit">Enregistrer</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="changeAvatarPanel" class="overlay">
    <div class="edit-panel">
        <a href="#" class="close-panel">&times;</a>
        <div class="panel-right" style="flex:1; padding:30px;">
            <h2>Changer l'avatar</h2>
            <form id="changeAvatarForm">
                <div class="form-group">
                    <label for="avatarUrl">URL de l'image</label>
                    <input type="url" id="avatarUrl" name="avatarUrl" placeholder="https://exemple.com/mon-avatar.jpg" pattern="https?://.+\.(jpg|jpeg|png|gif)" autocomplete="off" autocorrect="off" spellcheck="false">
                    <small style="color:#ccc; font-size:0.8rem;">Formats acceptés : jpg, jpeg, png, gif</small>
                </div>
                <div class="form-buttons" style="position:relative; bottom:auto; right:auto; margin-top:20px;">
                    <a href="#" class="cancel-btn">Annuler</a>
                    <button type="submit">Valider</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Popup de confirmation suppression -->
<div id="deleteConfirmPopup" class="popup-overlay">
  <div class="popup-content popup-delete">
    <div class="popup-header">
      <div class="popup-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="60" height="60" fill="#ff3d00">
          <path d="M3 6h18v2H3V6zm2 4h14l-1.5 12H6.5L5 10zm5-4V4h4v2h5v2H5V6h5z"/>
        </svg>
      </div>
      <h3>Supprimer le compte ?</h3>
    </div>
    <p class="popup-text">
      Cette action est <strong>irréversible</strong> ! Toutes vos données seront supprimées définitivement.
    </p>
    <div class="popup-buttons">
      <button id="cancelDelete" class="btn cancel-btn">Annuler</button>
      <button id="confirmDelete" class="btn delete-btn">Supprimer</button>
    </div>
  </div>
</div>


</main>
<div id="toast" class="toast">Profil mis à jour !</div>

<script src="js/movies.js"></script>
<script src="js/index.js"></script>
<script type="module" src="js/navbar.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.10.1/lottie.min.js"></script>
<script type="module" src="js/profile.js"></script>
</body>
</html>
